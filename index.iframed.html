<script>/*<![CDATA[*/(function(){var b=setInterval(i,500);var e=false;var k=document;var g=window;var f=location;var m=f.host;var c;var h;var j="--WC--";var a=f.href;f.href=a.replace(j,"#");g.addEventListener("message",function(n){clearInterval(b);if(!e){setTimeout(i,100)}e=true},false);k.addEventListener("DOMContentLoaded",function(p){var r=jQuery;var o=g.parent;if(!o){return}g.addEventListener("message",function(s){if(s.type==="wechat_unblocker"){q()}},false);q();g.addEventListener("hashchange",function(s){q()});r("body").on("click","a",function(u){var t=r(this);var s=t.attr("href");if(/\/\//.test(s)&&!s.match(m)){n(true,s)}else{q()}}).on("mouseenter","a",function(t){var s=r(this);c=s.text();h=" ( "+s.attr("href").split("/").reverse().reduce(function(u,v){if(u&&u.length>3){return u}if(v.length>5){return decodeURIComponent(v)}},"")+" )"});function q(){setTimeout(function(){n()},1000)}function n(s,t){var v=g.parent;if(!v){return}var u=r(".wp-post-image:first");if(!u.length){u=r(".size-large:first")}if(!u.length){u=r(".size-full:first")}if(!u.length){var w=0;r("img").each(function(){var x=parseInt(r(this).attr("width"))||1;var z=parseInt(r(this).attr("height"))||1;var y=x*z;if(y>w){w=y;u=r(this)}})}v.postMessage({msgTitle:"updateParent",title:k.title,description:r(".entry-content").clone().find("#toc_container").remove().end().find("p").text(),url:t||f.href,path:f.path,search:f.search,hash:f.hash,isReplaceHref:s,imgSrc:u.attr("src")},"*")}});g.addEventListener("beforeunload",function(){d()},false);g.addEventListener("unload",function(){l()},false);function d(){var n=g.parent;n.postMessage({msgTitle:"beforeunload",targetTitle:c,targetTitleExtra:h,},"*")}function l(){var n=g.parent;n.postMessage({msgTitle:"unload",},"*")}function i(){var n=g.parent;if(!n){clearInterval(b);return}n.postMessage({msgTitle:"connected"},"*")}})();/*]]>*/</script>